<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The base structure for managing data."><meta name="keywords" content="rust, rustlang, rust-lang, Starchart"><title>Starchart in starchart - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script><script defer src="../scrape-examples.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../starchart/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Struct Starchart</a></h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><div class="sidebar-links"><a href="#method.backend">backend</a><a href="#method.new">new</a></div><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-Clone">Clone</a><a href="#impl-Debug">Debug</a><a href="#impl-Default">Default</a><a href="#impl-Drop">Drop</a></div><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-RefUnwindSafe">!RefUnwindSafe</a><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">!UnwindSafe</a></div><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-ToOwned">ToOwned</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><h2 class="location">Other items in<br><a href="index.html">starchart</a></h2><div id="sidebar-vars" data-name="Starchart" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../starchart/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div>
                                <input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Struct <a href="index.html">starchart</a>::<wbr><a class="struct" href="#">Starchart</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/starchart/starchart.rs.html#14-17" title="goto source code">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust struct"><code>pub struct Starchart&lt;B:&nbsp;<a class="trait" href="backend/trait.Backend.html" title="trait starchart::backend::Backend">Backend</a>&gt; { /* private fields */ }</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The base structure for managing data.</p>
<p>The inner data is wrapped in an <a href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="Arc"><code>Arc</code></a>, so cloning
is cheap and will allow multiple accesses to the data.</p>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/starchart/starchart.rs.html#19-44" title="goto source code">source</a></div><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl&lt;B:&nbsp;<a class="trait" href="backend/trait.Backend.html" title="trait starchart::backend::Backend">Backend</a>&gt; <a class="struct" href="struct.Starchart.html" title="struct starchart::Starchart">Starchart</a>&lt;B&gt;</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.backend" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/starchart/starchart.rs.html#28-30" title="goto source code">source</a></div><a href="#method.backend" class="anchor"></a><h4 class="code-header">pub unsafe fn <a href="#method.backend" class="fnname">backend</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>B</h4></div></summary><div class="docblock"><p>Gives access to the raw <a href="backend/trait.Backend.html" title="Backend"><code>Backend</code></a> instance.</p>
<h5 id="safety" class="section-header"><a href="#safety">Safety</a></h5>
<p>Accessing the backend functions directly isn’t inheritly unsafe, however
care must be taken to ensure the data isn’t modified directly, and
that <a href="backend/trait.Backend.html#method.shutdown" title="Backend::shutdown"><code>Backend::shutdown</code></a> isn’t directly called.</p>
</div><div class="docblock scraped-example-list"><span></span><h5 id="scraped-examples" class="section-header"><a href="#scraped-examples">Examples found in repository</a></h5><div class="scraped-example " data-locs="[[[8,8],&quot;../src/starchart/action/mod.rs.html#534&quot;,&quot;line 534&quot;],[[73,73],&quot;../src/starchart/action/mod.rs.html#599&quot;,&quot;line 599&quot;],[[125,125],&quot;../src/starchart/action/mod.rs.html#651&quot;,&quot;line 651&quot;],[[179,179],&quot;../src/starchart/action/mod.rs.html#705&quot;,&quot;line 705&quot;],[[244,244],&quot;../src/starchart/action/mod.rs.html#770&quot;,&quot;line 770&quot;],[[308,308],&quot;../src/starchart/action/mod.rs.html#834&quot;,&quot;line 834&quot;],[[379,379],&quot;../src/starchart/action/mod.rs.html#905&quot;,&quot;line 905&quot;]]"><div class="scraped-example-title">src/action/mod.rs (<a href="../src/starchart/action/mod.rs.html#534">line 534</a>)</div><div class="code-wrapper"><span class="prev">&pr;</span> <span class="next">&sc;</span><span class="expand">&varr;</span><div class="example-wrap"><pre class="line-numbers"><span>526</span>
<span>527</span>
<span>528</span>
<span>529</span>
<span>530</span>
<span>531</span>
<span>532</span>
<span>533</span>
<span>534</span>
<span>535</span>
<span>536</span>
<span>537</span>
<span>538</span>
<span>539</span>
<span>540</span>
<span>541</span>
<span>542</span>
<span>543</span>
<span>544</span>
<span>545</span>
<span>546</span>
<span>547</span>
<span>548</span>
<span>549</span>
<span>550</span>
<span>551</span>
<span>552</span>
<span>553</span>
<span>554</span>
<span>555</span>
<span>556</span>
<span>557</span>
<span>558</span>
<span>559</span>
<span>560</span>
<span>561</span>
<span>562</span>
<span>563</span>
<span>564</span>
<span>565</span>
<span>566</span>
<span>567</span>
<span>568</span>
<span>569</span>
<span>570</span>
<span>571</span>
<span>572</span>
<span>573</span>
<span>574</span>
<span>575</span>
<span>576</span>
<span>577</span>
<span>578</span>
<span>579</span>
<span>580</span>
<span>581</span>
<span>582</span>
<span>583</span>
<span>584</span>
<span>585</span>
<span>586</span>
<span>587</span>
<span>588</span>
<span>589</span>
<span>590</span>
<span>591</span>
<span>592</span>
<span>593</span>
<span>594</span>
<span>595</span>
<span>596</span>
<span>597</span>
<span>598</span>
<span>599</span>
<span>600</span>
<span>601</span>
<span>602</span>
<span>603</span>
<span>604</span>
<span>605</span>
<span>606</span>
<span>607</span>
<span>608</span>
<span>609</span>
<span>610</span>
<span>611</span>
<span>612</span>
<span>613</span>
<span>614</span>
<span>615</span>
<span>616</span>
<span>617</span>
<span>618</span>
<span>619</span>
<span>620</span>
<span>621</span>
<span>622</span>
<span>623</span>
<span>624</span>
<span>625</span>
<span>626</span>
<span>627</span>
<span>628</span>
<span>629</span>
<span>630</span>
<span>631</span>
<span>632</span>
<span>633</span>
<span>634</span>
<span>635</span>
<span>636</span>
<span>637</span>
<span>638</span>
<span>639</span>
<span>640</span>
<span>641</span>
<span>642</span>
<span>643</span>
<span>644</span>
<span>645</span>
<span>646</span>
<span>647</span>
<span>648</span>
<span>649</span>
<span>650</span>
<span>651</span>
<span>652</span>
<span>653</span>
<span>654</span>
<span>655</span>
<span>656</span>
<span>657</span>
<span>658</span>
<span>659</span>
<span>660</span>
<span>661</span>
<span>662</span>
<span>663</span>
<span>664</span>
<span>665</span>
<span>666</span>
<span>667</span>
<span>668</span>
<span>669</span>
<span>670</span>
<span>671</span>
<span>672</span>
<span>673</span>
<span>674</span>
<span>675</span>
<span>676</span>
<span>677</span>
<span>678</span>
<span>679</span>
<span>680</span>
<span>681</span>
<span>682</span>
<span>683</span>
<span>684</span>
<span>685</span>
<span>686</span>
<span>687</span>
<span>688</span>
<span>689</span>
<span>690</span>
<span>691</span>
<span>692</span>
<span>693</span>
<span>694</span>
<span>695</span>
<span>696</span>
<span>697</span>
<span>698</span>
<span>699</span>
<span>700</span>
<span>701</span>
<span>702</span>
<span>703</span>
<span>704</span>
<span>705</span>
<span>706</span>
<span>707</span>
<span>708</span>
<span>709</span>
<span>710</span>
<span>711</span>
<span>712</span>
<span>713</span>
<span>714</span>
<span>715</span>
<span>716</span>
<span>717</span>
<span>718</span>
<span>719</span>
<span>720</span>
<span>721</span>
<span>722</span>
<span>723</span>
<span>724</span>
<span>725</span>
<span>726</span>
<span>727</span>
<span>728</span>
<span>729</span>
<span>730</span>
<span>731</span>
<span>732</span>
<span>733</span>
<span>734</span>
<span>735</span>
<span>736</span>
<span>737</span>
<span>738</span>
<span>739</span>
<span>740</span>
<span>741</span>
<span>742</span>
<span>743</span>
<span>744</span>
<span>745</span>
<span>746</span>
<span>747</span>
<span>748</span>
<span>749</span>
<span>750</span>
<span>751</span>
<span>752</span>
<span>753</span>
<span>754</span>
<span>755</span>
<span>756</span>
<span>757</span>
<span>758</span>
<span>759</span>
<span>760</span>
<span>761</span>
<span>762</span>
<span>763</span>
<span>764</span>
<span>765</span>
<span>766</span>
<span>767</span>
<span>768</span>
<span>769</span>
<span>770</span>
<span>771</span>
<span>772</span>
<span>773</span>
<span>774</span>
<span>775</span>
<span>776</span>
<span>777</span>
<span>778</span>
<span>779</span>
<span>780</span>
<span>781</span>
<span>782</span>
<span>783</span>
<span>784</span>
<span>785</span>
<span>786</span>
<span>787</span>
<span>788</span>
<span>789</span>
<span>790</span>
<span>791</span>
<span>792</span>
<span>793</span>
<span>794</span>
<span>795</span>
<span>796</span>
<span>797</span>
<span>798</span>
<span>799</span>
<span>800</span>
<span>801</span>
<span>802</span>
<span>803</span>
<span>804</span>
<span>805</span>
<span>806</span>
<span>807</span>
<span>808</span>
<span>809</span>
<span>810</span>
<span>811</span>
<span>812</span>
<span>813</span>
<span>814</span>
<span>815</span>
<span>816</span>
<span>817</span>
<span>818</span>
<span>819</span>
<span>820</span>
<span>821</span>
<span>822</span>
<span>823</span>
<span>824</span>
<span>825</span>
<span>826</span>
<span>827</span>
<span>828</span>
<span>829</span>
<span>830</span>
<span>831</span>
<span>832</span>
<span>833</span>
<span>834</span>
<span>835</span>
<span>836</span>
<span>837</span>
<span>838</span>
<span>839</span>
<span>840</span>
<span>841</span>
<span>842</span>
<span>843</span>
<span>844</span>
<span>845</span>
<span>846</span>
<span>847</span>
<span>848</span>
<span>849</span>
<span>850</span>
<span>851</span>
<span>852</span>
<span>853</span>
<span>854</span>
<span>855</span>
<span>856</span>
<span>857</span>
<span>858</span>
<span>859</span>
<span>860</span>
<span>861</span>
<span>862</span>
<span>863</span>
<span>864</span>
<span>865</span>
<span>866</span>
<span>867</span>
<span>868</span>
<span>869</span>
<span>870</span>
<span>871</span>
<span>872</span>
<span>873</span>
<span>874</span>
<span>875</span>
<span>876</span>
<span>877</span>
<span>878</span>
<span>879</span>
<span>880</span>
<span>881</span>
<span>882</span>
<span>883</span>
<span>884</span>
<span>885</span>
<span>886</span>
<span>887</span>
<span>888</span>
<span>889</span>
<span>890</span>
<span>891</span>
<span>892</span>
<span>893</span>
<span>894</span>
<span>895</span>
<span>896</span>
<span>897</span>
<span>898</span>
<span>899</span>
<span>900</span>
<span>901</span>
<span>902</span>
<span>903</span>
<span>904</span>
<span>905</span>
<span>906</span>
<span>907</span>
<span>908</span>
<span>909</span>
<span>910</span>
<span>911</span>
</pre><pre class="rust"><code><span class="kw">pub</span> <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">run_create_entry</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span><span class="op">&gt;</span>(
		<span class="self">self</span>,
		<span class="ident">chart</span>: <span class="kw-2">&amp;</span><span class="ident">Starchart</span><span class="op">&lt;</span><span class="ident">B</span><span class="op">&gt;</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">ActionError</span><span class="op">&gt;</span> {
		<span class="self">self</span>.<span class="ident">validate_table</span>().<span class="ident">map_err</span>(<span class="ident">ActionError::validation</span>)<span class="question-mark">?</span>;
		<span class="self">self</span>.<span class="ident">validate_entry</span>().<span class="ident">map_err</span>(<span class="ident">ActionError::validation</span>)<span class="question-mark">?</span>;
		<span class="kw">let</span> <span class="ident">lock</span> <span class="op">=</span> <span class="ident">chart</span>.<span class="ident">guard</span>.<span class="ident">exclusive</span>();
		<span class="kw">unsafe</span> {
			<span class="self">self</span>.<span class="ident">run_create_entry_unchecked</span>(<span class="ident">chart</span>.<span class="highlight focus"><span class="ident">backend</span>()</span>)
				.<span class="kw">await</span>
				.<span class="ident">map_err</span>(<span class="ident">ActionError::run</span>)<span class="question-mark">?</span>;
		};
		<span class="ident">drop</span>(<span class="ident">lock</span>);
		<span class="prelude-val">Ok</span>(())
	}

	<span class="doccomment">/// Runs a [`CreateEntryAction`], not checking for any validation issues beforehand.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This will fail if any of the [`Backend`] methods fail.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Safety</span>
	<span class="doccomment">/// This does not check any variants beforehand. Calling this without calling [`Self::set_table`], [`Self::set_data`],</span>
	<span class="doccomment">/// and [`Self::set_key`] (or [`Self::set_entry`] for the last two) will cause immediate `UB`.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// Additionally, this does no atomic locking, so running this at the same time as a read or write will cause data races.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">run_create_entry_unchecked</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span><span class="op">&gt;</span>(
		<span class="kw-2">mut</span> <span class="self">self</span>,
		<span class="ident">backend</span>: <span class="kw-2">&amp;</span><span class="ident">B</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">ActionRunError</span><span class="op">&gt;</span> {
		<span class="kw">let</span> <span class="ident">table_name</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">table</span>.<span class="ident">take</span>().<span class="ident">inner_unwrap</span>();
		<span class="kw">let</span> <span class="ident">key</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">key</span>.<span class="ident">take</span>().<span class="ident">inner_unwrap</span>();
		<span class="kw">let</span> <span class="ident">entry</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">data</span>.<span class="ident">take</span>().<span class="ident">inner_unwrap</span>();
		<span class="kw">if</span> <span class="ident">backend</span>
			.<span class="ident">has</span>(<span class="kw-2">&amp;</span><span class="ident">table_name</span>, <span class="kw-2">&amp;</span><span class="ident">key</span>)
			.<span class="kw">await</span>
			.<span class="ident">map_err</span>(<span class="op">|</span><span class="ident">e</span><span class="op">|</span> <span class="ident">ActionRunError</span> {
				<span class="ident">source</span>: <span class="prelude-val">Some</span>(<span class="ident">Box::new</span>(<span class="ident">e</span>)),
				<span class="ident">kind</span>: <span class="ident">ActionRunErrorType::Backend</span>,
			})<span class="question-mark">?</span> {
			<span class="kw">return</span> <span class="prelude-val">Ok</span>(());
		}

		<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;metadata&quot;</span>)]</span>
		<span class="self">self</span>.<span class="ident">check_metadata</span>(<span class="ident">backend</span>, <span class="kw-2">&amp;</span><span class="ident">table_name</span>).<span class="kw">await</span><span class="question-mark">?</span>;

		<span class="ident">backend</span>
			.<span class="ident">create</span>(<span class="kw-2">&amp;</span><span class="ident">table_name</span>, <span class="kw-2">&amp;</span><span class="ident">key</span>, <span class="kw-2">&amp;</span><span class="kw-2">*</span><span class="ident">entry</span>)
			.<span class="kw">await</span>
			.<span class="ident">map_err</span>(<span class="op">|</span><span class="ident">e</span><span class="op">|</span> <span class="ident">ActionRunError</span> {
				<span class="ident">source</span>: <span class="prelude-val">Some</span>(<span class="ident">Box::new</span>(<span class="ident">e</span>)),
				<span class="ident">kind</span>: <span class="ident">ActionRunErrorType::Backend</span>,
			})<span class="question-mark">?</span>;

		<span class="prelude-val">Ok</span>(())
	}
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">S</span>: <span class="ident">Entry</span><span class="op">&gt;</span> <span class="ident">ReadEntryAction</span><span class="op">&lt;</span><span class="ident">S</span><span class="op">&gt;</span> {
	<span class="doccomment">/// Validates and runs a [`ReadEntryAction`].</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This returns an error if [`Self::validate_table`] or [`Self::validate_key`] fails, or if any of the [`Backend`] methods fail.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">run_read_entry</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span><span class="op">&gt;</span>(
		<span class="self">self</span>,
		<span class="ident">gateway</span>: <span class="kw-2">&amp;</span><span class="ident">Starchart</span><span class="op">&lt;</span><span class="ident">B</span><span class="op">&gt;</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">S</span><span class="op">&gt;</span>, <span class="ident">ActionError</span><span class="op">&gt;</span> {
		<span class="self">self</span>.<span class="ident">validate_table</span>().<span class="ident">map_err</span>(<span class="ident">ActionError::validation</span>)<span class="question-mark">?</span>;
		<span class="self">self</span>.<span class="ident">validate_key</span>().<span class="ident">map_err</span>(<span class="ident">ActionError::validation</span>)<span class="question-mark">?</span>;
		<span class="kw">let</span> <span class="ident">lock</span> <span class="op">=</span> <span class="ident">gateway</span>.<span class="ident">guard</span>.<span class="ident">exclusive</span>();
		<span class="kw">let</span> <span class="ident">res</span> <span class="op">=</span> <span class="kw">unsafe</span> {
			<span class="self">self</span>.<span class="ident">run_read_entry_unchecked</span>(<span class="ident">gateway</span>.<span class="highlight"><span class="ident">backend</span>()</span>)
				.<span class="kw">await</span>
				.<span class="ident">map_err</span>(<span class="ident">ActionError::run</span>)<span class="question-mark">?</span>
		};
		<span class="ident">drop</span>(<span class="ident">lock</span>);
		<span class="prelude-val">Ok</span>(<span class="ident">res</span>)
	}

	<span class="doccomment">/// Runs a [`ReadEntryAction`], not checking for any validation issues beforehand.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This will fail if any of the [`Backend`] methods fail.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Safety</span>
	<span class="doccomment">/// This does not check any variants beforehand. Calling this without calling [`Self::set_table`] and [`Self::set_key`] will cause immediate `UB`.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// Additionally, this does no atomic locking, so running this at the same time as a read or write will cause data races.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">run_read_entry_unchecked</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span><span class="op">&gt;</span>(
		<span class="kw-2">mut</span> <span class="self">self</span>,
		<span class="ident">backend</span>: <span class="kw-2">&amp;</span><span class="ident">B</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">S</span><span class="op">&gt;</span>, <span class="ident">ActionRunError</span><span class="op">&gt;</span> {
		<span class="kw">let</span> <span class="ident">table_name</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">table</span>.<span class="ident">take</span>().<span class="ident">inner_unwrap</span>();
		<span class="kw">let</span> <span class="ident">key</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">key</span>.<span class="ident">take</span>().<span class="ident">inner_unwrap</span>();

		<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;metadata&quot;</span>)]</span>
		<span class="self">self</span>.<span class="ident">check_metadata</span>(<span class="ident">backend</span>, <span class="kw-2">&amp;</span><span class="ident">table_name</span>).<span class="kw">await</span><span class="question-mark">?</span>;

		<span class="ident">backend</span>
			.<span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="ident">table_name</span>, <span class="kw-2">&amp;</span><span class="ident">key</span>)
			.<span class="kw">await</span>
			.<span class="ident">map_err</span>(<span class="op">|</span><span class="ident">e</span><span class="op">|</span> <span class="ident">ActionRunError</span> {
				<span class="ident">source</span>: <span class="prelude-val">Some</span>(<span class="ident">Box::new</span>(<span class="ident">e</span>)),
				<span class="ident">kind</span>: <span class="ident">ActionRunErrorType::Backend</span>,
			})
	}
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">S</span>: <span class="ident">Entry</span><span class="op">&gt;</span> <span class="ident">UpdateEntryAction</span><span class="op">&lt;</span><span class="ident">S</span><span class="op">&gt;</span> {
	<span class="doccomment">/// Validates and runs a [`UpdateEntryAction`].</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This returns an error if [`Self::validate_table`] or [`Self::validate_entry`] fails, or if any of the [`Backend`] methods fail.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">run_update_entry</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span><span class="op">&gt;</span>(
		<span class="self">self</span>,
		<span class="ident">chart</span>: <span class="kw-2">&amp;</span><span class="ident">Starchart</span><span class="op">&lt;</span><span class="ident">B</span><span class="op">&gt;</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">ActionError</span><span class="op">&gt;</span> {
		<span class="self">self</span>.<span class="ident">validate_table</span>().<span class="ident">map_err</span>(<span class="ident">ActionError::validation</span>)<span class="question-mark">?</span>;
		<span class="self">self</span>.<span class="ident">validate_entry</span>().<span class="ident">map_err</span>(<span class="ident">ActionError::validation</span>)<span class="question-mark">?</span>;
		<span class="kw">let</span> <span class="ident">lock</span> <span class="op">=</span> <span class="ident">chart</span>.<span class="ident">guard</span>.<span class="ident">exclusive</span>();
		<span class="kw">unsafe</span> {
			<span class="self">self</span>.<span class="ident">run_update_entry_unchecked</span>(<span class="ident">chart</span>.<span class="highlight"><span class="ident">backend</span>()</span>)
				.<span class="kw">await</span>
				.<span class="ident">map_err</span>(<span class="ident">ActionError::run</span>)<span class="question-mark">?</span>;
		};
		<span class="ident">drop</span>(<span class="ident">lock</span>);
		<span class="prelude-val">Ok</span>(())
	}

	<span class="doccomment">/// Runs a [`UpdateEntryAction`], not checking for any validation issues beforehand.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This will fail if any of the [`Backend`] methods fail.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Safety</span>
	<span class="doccomment">/// This does not check any variants beforehand. Calling this without calling [`Self::set_table`], [`Self::set_data`],</span>
	<span class="doccomment">/// and [`Self::set_key`] (or [`Self::set_entry`] for the last two) will cause immediate `UB`.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// Additionally, this does no atomic locking, so running this at the same time as a read or write will cause data races.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">run_update_entry_unchecked</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span><span class="op">&gt;</span>(
		<span class="kw-2">mut</span> <span class="self">self</span>,
		<span class="ident">backend</span>: <span class="kw-2">&amp;</span><span class="ident">B</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">ActionRunError</span><span class="op">&gt;</span> {
		<span class="kw">let</span> <span class="ident">table</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">table</span>.<span class="ident">take</span>().<span class="ident">inner_unwrap</span>();
		<span class="kw">let</span> <span class="ident">key</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">key</span>.<span class="ident">take</span>().<span class="ident">inner_unwrap</span>();
		<span class="kw">let</span> <span class="ident">new_data</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">data</span>.<span class="ident">take</span>().<span class="ident">inner_unwrap</span>();

		<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;metadata&quot;</span>)]</span>
		<span class="self">self</span>.<span class="ident">check_metadata</span>(<span class="ident">backend</span>, <span class="kw-2">&amp;</span><span class="ident">table</span>).<span class="kw">await</span><span class="question-mark">?</span>;

		<span class="ident">backend</span>
			.<span class="ident">update</span>(<span class="kw-2">&amp;</span><span class="ident">table</span>, <span class="kw-2">&amp;</span><span class="ident">key</span>, <span class="kw-2">&amp;</span><span class="ident">new_data</span>)
			.<span class="kw">await</span>
			.<span class="ident">map_err</span>(<span class="op">|</span><span class="ident">e</span><span class="op">|</span> <span class="ident">ActionRunError</span> {
				<span class="ident">source</span>: <span class="prelude-val">Some</span>(<span class="ident">Box::new</span>(<span class="ident">e</span>)),
				<span class="ident">kind</span>: <span class="ident">ActionRunErrorType::Backend</span>,
			})
	}
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">S</span>: <span class="ident">Entry</span><span class="op">&gt;</span> <span class="ident">DeleteEntryAction</span><span class="op">&lt;</span><span class="ident">S</span><span class="op">&gt;</span> {
	<span class="doccomment">/// Validates and runs a [`DeleteEntryAction`].</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This returns an error if [`Self::validate_table`] or [`Self::validate_key`] fails, or if any of the [`Backend`] methods fail.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">run_delete_entry</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span><span class="op">&gt;</span>(
		<span class="self">self</span>,
		<span class="ident">gateway</span>: <span class="kw-2">&amp;</span><span class="ident">Starchart</span><span class="op">&lt;</span><span class="ident">B</span><span class="op">&gt;</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="ident">bool</span>, <span class="ident">ActionError</span><span class="op">&gt;</span> {
		<span class="self">self</span>.<span class="ident">validate_table</span>().<span class="ident">map_err</span>(<span class="ident">ActionError::validation</span>)<span class="question-mark">?</span>;
		<span class="self">self</span>.<span class="ident">validate_key</span>().<span class="ident">map_err</span>(<span class="ident">ActionError::validation</span>)<span class="question-mark">?</span>;
		<span class="kw">let</span> <span class="ident">lock</span> <span class="op">=</span> <span class="ident">gateway</span>.<span class="ident">guard</span>.<span class="ident">exclusive</span>();
		<span class="kw">let</span> <span class="ident">res</span> <span class="op">=</span> <span class="kw">unsafe</span> {
			<span class="self">self</span>.<span class="ident">run_delete_entry_unchecked</span>(<span class="ident">gateway</span>.<span class="highlight"><span class="ident">backend</span>()</span>)
				.<span class="kw">await</span>
				.<span class="ident">map_err</span>(<span class="ident">ActionError::run</span>)<span class="question-mark">?</span>
		};
		<span class="ident">drop</span>(<span class="ident">lock</span>);
		<span class="prelude-val">Ok</span>(<span class="ident">res</span>)
	}

	<span class="doccomment">/// Runs a [`DeleteEntryAction`], not checking for any validation issues beforehand.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This will fail if any of the [`Backend`] methods fail.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Safety</span>
	<span class="doccomment">/// This does not check any variants beforehand. Calling this without calling [`Self::set_table`] and [`Self::set_key`] will cause immediate `UB`.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// Additionally, this does no atomic locking, so running this at the same time as a read or write will cause data races.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">run_delete_entry_unchecked</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span><span class="op">&gt;</span>(
		<span class="kw-2">mut</span> <span class="self">self</span>,
		<span class="ident">backend</span>: <span class="kw-2">&amp;</span><span class="ident">B</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="ident">bool</span>, <span class="ident">ActionRunError</span><span class="op">&gt;</span> {
		<span class="kw">let</span> <span class="ident">table</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">table</span>.<span class="ident">take</span>().<span class="ident">inner_unwrap</span>();
		<span class="kw">let</span> <span class="ident">key</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">key</span>.<span class="ident">take</span>().<span class="ident">inner_unwrap</span>();
		<span class="kw">let</span> <span class="ident">exists</span> <span class="op">=</span> <span class="ident">backend</span>
			.<span class="ident">has</span>(<span class="kw-2">&amp;</span><span class="ident">table</span>, <span class="kw-2">&amp;</span><span class="ident">key</span>)
			.<span class="kw">await</span>
			.<span class="ident">map_err</span>(<span class="op">|</span><span class="ident">e</span><span class="op">|</span> <span class="ident">ActionRunError</span> {
				<span class="ident">source</span>: <span class="prelude-val">Some</span>(<span class="ident">Box::new</span>(<span class="ident">e</span>)),
				<span class="ident">kind</span>: <span class="ident">ActionRunErrorType::Backend</span>,
			})<span class="question-mark">?</span>;

		<span class="ident">backend</span>
			.<span class="ident">delete</span>(<span class="kw-2">&amp;</span><span class="ident">table</span>, <span class="kw-2">&amp;</span><span class="ident">key</span>)
			.<span class="kw">await</span>
			.<span class="ident">map_err</span>(<span class="op">|</span><span class="ident">e</span><span class="op">|</span> <span class="ident">ActionRunError</span> {
				<span class="ident">source</span>: <span class="prelude-val">Some</span>(<span class="ident">Box::new</span>(<span class="ident">e</span>)),
				<span class="ident">kind</span>: <span class="ident">ActionRunErrorType::Backend</span>,
			})<span class="question-mark">?</span>;

		<span class="kw">let</span> <span class="ident">after_exists</span> <span class="op">=</span> <span class="ident">backend</span>
			.<span class="ident">has</span>(<span class="kw-2">&amp;</span><span class="ident">table</span>, <span class="kw-2">&amp;</span><span class="ident">key</span>)
			.<span class="kw">await</span>
			.<span class="ident">map_err</span>(<span class="op">|</span><span class="ident">e</span><span class="op">|</span> <span class="ident">ActionRunError</span> {
				<span class="ident">source</span>: <span class="prelude-val">Some</span>(<span class="ident">Box::new</span>(<span class="ident">e</span>)),
				<span class="ident">kind</span>: <span class="ident">ActionRunErrorType::Backend</span>,
			})<span class="question-mark">?</span>;

		<span class="prelude-val">Ok</span>(<span class="ident">exists</span> <span class="op">!</span><span class="op">=</span> <span class="ident">after_exists</span>)
	}
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">S</span>: <span class="ident">Entry</span><span class="op">&gt;</span> <span class="ident">CreateTableAction</span><span class="op">&lt;</span><span class="ident">S</span><span class="op">&gt;</span> {
	<span class="doccomment">/// Validates and runs a [`CreateTableAction`].</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This returns an error if [`Self::validate_table`] fails, or if any of the [`Backend`] methods fail.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">run_create_table</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span><span class="op">&gt;</span>(
		<span class="self">self</span>,
		<span class="ident">gateway</span>: <span class="kw-2">&amp;</span><span class="ident">Starchart</span><span class="op">&lt;</span><span class="ident">B</span><span class="op">&gt;</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">ActionError</span><span class="op">&gt;</span> {
		<span class="self">self</span>.<span class="ident">validate_table</span>().<span class="ident">map_err</span>(<span class="ident">ActionError::validation</span>)<span class="question-mark">?</span>;
		<span class="kw">let</span> <span class="ident">lock</span> <span class="op">=</span> <span class="ident">gateway</span>.<span class="ident">guard</span>.<span class="ident">exclusive</span>();
		<span class="kw">unsafe</span> {
			<span class="self">self</span>.<span class="ident">run_create_table_unchecked</span>(<span class="ident">gateway</span>.<span class="highlight"><span class="ident">backend</span>()</span>)
				.<span class="kw">await</span>
				.<span class="ident">map_err</span>(<span class="ident">ActionError::run</span>)<span class="question-mark">?</span>;
		};
		<span class="ident">drop</span>(<span class="ident">lock</span>);
		<span class="prelude-val">Ok</span>(())
	}

	<span class="doccomment">/// Runs a [`CreateTableAction`], not checking for any validation issues beforehand.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This will fail if any of the [`Backend`] methods fail.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Safety</span>
	<span class="doccomment">/// This does not check any variants beforehand. Calling this without calling [`Self::set_table`] will cause immediate `UB`.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// Additionally, this does no atomic locking, so running this at the same time as a read or write will cause data races.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">run_create_table_unchecked</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span><span class="op">&gt;</span>(
		<span class="self">self</span>,
		<span class="ident">backend</span>: <span class="kw-2">&amp;</span><span class="ident">B</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">ActionRunError</span><span class="op">&gt;</span> {
		<span class="kw">let</span> <span class="ident">table</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">table</span>.<span class="ident">inner_unwrap</span>();

		<span class="ident">backend</span>
			.<span class="ident">ensure_table</span>(<span class="kw-2">&amp;</span><span class="ident">table</span>)
			.<span class="kw">await</span>
			.<span class="ident">map_err</span>(<span class="op">|</span><span class="ident">e</span><span class="op">|</span> <span class="ident">ActionRunError</span> {
				<span class="ident">source</span>: <span class="prelude-val">Some</span>(<span class="ident">Box::new</span>(<span class="ident">e</span>)),
				<span class="ident">kind</span>: <span class="ident">ActionRunErrorType::Backend</span>,
			})<span class="question-mark">?</span>;

		<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;metadata&quot;</span>)]</span>
		{
			<span class="kw">let</span> <span class="ident">metadata</span> <span class="op">=</span> <span class="ident">S::default</span>();
			<span class="ident">backend</span>
				.<span class="ident">ensure</span>(<span class="kw-2">&amp;</span><span class="ident">table</span>, <span class="ident">METADATA_KEY</span>, <span class="kw-2">&amp;</span><span class="ident">metadata</span>)
				.<span class="kw">await</span>
				.<span class="ident">map_err</span>(<span class="op">|</span><span class="ident">e</span><span class="op">|</span> <span class="ident">ActionRunError</span> {
					<span class="ident">source</span>: <span class="prelude-val">Some</span>(<span class="ident">Box::new</span>(<span class="ident">e</span>)),
					<span class="ident">kind</span>: <span class="ident">ActionRunErrorType::Backend</span>,
				})<span class="question-mark">?</span>;
		}

		<span class="prelude-val">Ok</span>(())
	}
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">S</span>: <span class="ident">Entry</span><span class="op">&gt;</span> <span class="ident">ReadTableAction</span><span class="op">&lt;</span><span class="ident">S</span><span class="op">&gt;</span> {
	<span class="doccomment">/// Validates and runs a [`ReadTableAction`].</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This returns an error if [`Self::validate_table`] fails, or if any of the [`Backend`] methods fail.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">run_read_table</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span>, <span class="ident">I</span><span class="op">&gt;</span>(
		<span class="self">self</span>,
		<span class="ident">gateway</span>: <span class="kw-2">&amp;</span><span class="ident">Starchart</span><span class="op">&lt;</span><span class="ident">B</span><span class="op">&gt;</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="ident">I</span>, <span class="ident">ActionError</span><span class="op">&gt;</span>
	<span class="kw">where</span>
		<span class="ident">I</span>: <span class="ident">FromIterator</span><span class="op">&lt;</span><span class="ident">S</span><span class="op">&gt;</span>,
	{
		<span class="self">self</span>.<span class="ident">validate_table</span>().<span class="ident">map_err</span>(<span class="ident">ActionError::validation</span>)<span class="question-mark">?</span>;
		<span class="kw">let</span> <span class="ident">lock</span> <span class="op">=</span> <span class="ident">gateway</span>.<span class="ident">guard</span>.<span class="ident">shared</span>();
		<span class="kw">let</span> <span class="ident">res</span> <span class="op">=</span> <span class="kw">unsafe</span> {
			<span class="self">self</span>.<span class="ident">run_read_table_unchecked</span>(<span class="ident">gateway</span>.<span class="highlight"><span class="ident">backend</span>()</span>)
				.<span class="kw">await</span>
				.<span class="ident">map_err</span>(<span class="ident">ActionError::run</span>)<span class="question-mark">?</span>
		};
		<span class="ident">drop</span>(<span class="ident">lock</span>);
		<span class="prelude-val">Ok</span>(<span class="ident">res</span>)
	}

	<span class="doccomment">/// Runs a [`ReadTableAction`], not checking for any validation issues beforehand.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This will fail if any of the [`Backend`] methods fail.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Safety</span>
	<span class="doccomment">/// This does not check any variants beforehand. Calling this without calling [`Self::set_table`] will cause immediate `UB`.</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// Additionally, this does no atomic locking, so running this at the same time as a read or write will cause data races.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">run_read_table_unchecked</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span>, <span class="ident">I</span><span class="op">&gt;</span>(
		<span class="kw-2">mut</span> <span class="self">self</span>,
		<span class="ident">backend</span>: <span class="kw-2">&amp;</span><span class="ident">B</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="ident">I</span>, <span class="ident">ActionRunError</span><span class="op">&gt;</span>
	<span class="kw">where</span>
		<span class="ident">I</span>: <span class="ident">FromIterator</span><span class="op">&lt;</span><span class="ident">S</span><span class="op">&gt;</span>,
	{
		<span class="kw">let</span> <span class="ident">table</span> <span class="op">=</span> <span class="self">self</span>.<span class="ident">inner</span>.<span class="ident">table</span>.<span class="ident">take</span>().<span class="ident">inner_unwrap</span>();

		<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;metadata&quot;</span>)]</span>
		<span class="self">self</span>.<span class="ident">check_metadata</span>(<span class="ident">backend</span>, <span class="kw-2">&amp;</span><span class="ident">table</span>).<span class="kw">await</span><span class="question-mark">?</span>;

		<span class="kw">let</span> <span class="ident">keys</span> <span class="op">=</span> <span class="ident">backend</span>
			.<span class="ident">get_keys</span>::<span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="ident">table</span>)
			.<span class="kw">await</span>
			.<span class="ident">map_err</span>(<span class="op">|</span><span class="ident">e</span><span class="op">|</span> <span class="ident">ActionRunError</span> {
				<span class="ident">source</span>: <span class="prelude-val">Some</span>(<span class="ident">Box::new</span>(<span class="ident">e</span>)),
				<span class="ident">kind</span>: <span class="ident">ActionRunErrorType::Backend</span>,
			})<span class="question-mark">?</span>;

		<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;metadata&quot;</span>)]</span>
		<span class="kw">let</span> <span class="ident">keys</span> <span class="op">=</span> <span class="ident">keys</span>
			.<span class="ident">into_iter</span>()
			.<span class="ident">filter</span>(<span class="op">|</span><span class="ident">value</span><span class="op">|</span> <span class="ident">value</span> <span class="op">!</span><span class="op">=</span> <span class="ident">METADATA_KEY</span>)
			.<span class="ident">collect</span>::<span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span><span class="op">&gt;</span>();

		<span class="kw">let</span> <span class="ident">keys_borrowed</span> <span class="op">=</span> <span class="ident">keys</span>.<span class="ident">iter</span>().<span class="ident">map</span>(<span class="ident">String::as_str</span>).<span class="ident">collect</span>::<span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span><span class="op">&gt;</span>();

		<span class="kw">let</span> <span class="ident">data</span> <span class="op">=</span> <span class="ident">backend</span>
			.<span class="ident">get_all</span>::<span class="op">&lt;</span><span class="ident">S</span>, <span class="ident">I</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="ident">table</span>, <span class="kw-2">&amp;</span><span class="ident">keys_borrowed</span>)
			.<span class="kw">await</span>
			.<span class="ident">map_err</span>(<span class="op">|</span><span class="ident">e</span><span class="op">|</span> <span class="ident">ActionRunError</span> {
				<span class="ident">source</span>: <span class="prelude-val">Some</span>(<span class="ident">Box::new</span>(<span class="ident">e</span>)),
				<span class="ident">kind</span>: <span class="ident">ActionRunErrorType::Backend</span>,
			})<span class="question-mark">?</span>;

		<span class="prelude-val">Ok</span>(<span class="ident">data</span>)
	}
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">S</span>: <span class="ident">Entry</span><span class="op">&gt;</span> <span class="ident">DeleteTableAction</span><span class="op">&lt;</span><span class="ident">S</span><span class="op">&gt;</span> {
	<span class="doccomment">/// Validates and runs a [`DeleteTableAction`].</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// # Errors</span>
	<span class="doccomment">///</span>
	<span class="doccomment">/// This returns an error if [`Self::validate_table`] fails, or if any of the [`Backend`] methods fail.</span>
	<span class="kw">pub</span> <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">run_delete_table</span><span class="op">&lt;</span><span class="ident">B</span>: <span class="ident">Backend</span><span class="op">&gt;</span>(
		<span class="self">self</span>,
		<span class="ident">gateway</span>: <span class="kw-2">&amp;</span><span class="ident">Starchart</span><span class="op">&lt;</span><span class="ident">B</span><span class="op">&gt;</span>,
	) -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="ident">bool</span>, <span class="ident">ActionError</span><span class="op">&gt;</span> {
		<span class="self">self</span>.<span class="ident">validate_table</span>().<span class="ident">map_err</span>(<span class="ident">ActionError::validation</span>)<span class="question-mark">?</span>;
		<span class="kw">let</span> <span class="ident">lock</span> <span class="op">=</span> <span class="ident">gateway</span>.<span class="ident">guard</span>.<span class="ident">exclusive</span>();
		<span class="kw">let</span> <span class="ident">res</span> <span class="op">=</span> <span class="kw">unsafe</span> {
			<span class="self">self</span>.<span class="ident">run_delete_table_unchecked</span>(<span class="ident">gateway</span>.<span class="highlight"><span class="ident">backend</span>()</span>)
				.<span class="kw">await</span>
				.<span class="ident">map_err</span>(<span class="ident">ActionError::run</span>)<span class="question-mark">?</span>
		};
		<span class="ident">drop</span>(<span class="ident">lock</span>);
		<span class="prelude-val">Ok</span>(<span class="ident">res</span>)
	}</code></pre></div>
</div></div></div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.new" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/starchart/starchart.rs.html#37-43" title="goto source code">source</a></div><a href="#method.new" class="anchor"></a><h4 class="code-header">pub async fn <a href="#method.new" class="fnname">new</a>(backend: B) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, B::<a class="associatedtype" href="backend/trait.Backend.html#associatedtype.Error" title="type starchart::backend::Backend::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Creates a new <a href="struct.Starchart.html" title="Starchart"><code>Starchart</code></a>, and initializes the <a href="backend/trait.Backend.html" title="Backend"><code>Backend</code></a>.</p>
<h5 id="errors" class="section-header"><a href="#errors">Errors</a></h5>
<p>Any errors that <a href="backend/trait.Backend.html#method.init" title="Backend::init"><code>Backend::init</code></a> can raise.</p>
</div><div class="docblock scraped-example-list"><span></span><h5 id="scraped-examples-1" class="section-header"><a href="#scraped-examples-1">Examples found in repository</a></h5><div class="scraped-example " data-locs="[[[1,1],&quot;../src/get_all/get_all.rs.html#44&quot;,&quot;line 44&quot;]]"><div class="scraped-example-title">examples/get_all.rs (<a href="../src/get_all/get_all.rs.html#44">line 44</a>)</div><div class="code-wrapper"><span class="expand">&varr;</span><div class="example-wrap"><pre class="line-numbers"><span>43</span>
<span>44</span>
<span>45</span>
<span>46</span>
<span>47</span>
<span>48</span>
<span>49</span>
<span>50</span>
<span>51</span>
<span>52</span>
<span>53</span>
<span>54</span>
<span>55</span>
<span>56</span>
<span>57</span>
<span>58</span>
<span>59</span>
<span>60</span>
<span>61</span>
<span>62</span>
<span>63</span>
<span>64</span>
<span>65</span>
<span>66</span>
<span>67</span>
<span>68</span>
<span>69</span>
<span>70</span>
<span>71</span>
<span>72</span>
<span>73</span>
<span>74</span>
<span>75</span>
<span>76</span>
<span>77</span>
<span>78</span>
<span>79</span>
<span>80</span>
<span>81</span>
<span>82</span>
<span>83</span>
<span>84</span>
<span>85</span>
<span>86</span>
<span>87</span>
<span>88</span>
<span>89</span>
<span>90</span>
<span>91</span>
<span>92</span>
<span>93</span>
<span>94</span>
<span>95</span>
<span>96</span>
<span>97</span>
<span>98</span>
<span>99</span>
<span>100</span>
<span>101</span>
</pre><pre class="rust"><code><span class="kw">fn</span> <span class="ident">main</span>() -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
	<span class="kw">let</span> <span class="ident">chart</span> <span class="op">=</span> <span class="highlight focus"><span class="ident">Starchart::new</span>(<span class="ident">JsonBackend::new</span>(<span class="string">&quot;./examples/get_all_db&quot;</span>)<span class="question-mark">?</span>)</span>.<span class="kw">await</span><span class="question-mark">?</span>;

	{
		<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">action</span>: <span class="ident">CreateTableAction</span><span class="op">&lt;</span><span class="ident">Settings</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Action::new</span>();
		<span class="ident">action</span>.<span class="ident">set_table</span>(<span class="string">&quot;foo&quot;</span>.<span class="ident">to_owned</span>());

		<span class="comment">// chart.run(action).await??;</span>
		<span class="ident">action</span>.<span class="ident">run</span>(<span class="kw-2">&amp;</span><span class="ident">chart</span>).<span class="kw">await</span><span class="question-mark">?</span>.<span class="ident">unwrap_create</span>();
	}

	<span class="comment">// Insert some entries into the table.</span>
	<span class="kw">for</span> (<span class="ident">age</span>, <span class="ident">name</span>) <span class="kw">in</span> <span class="macro">vec!</span>[
		(<span class="number">21</span>, <span class="string">&quot;John Doe&quot;</span>.<span class="ident">to_owned</span>()),
		(<span class="number">42</span>, <span class="string">&quot;Ferris&quot;</span>.<span class="ident">to_owned</span>()),
		(<span class="number">73</span>, <span class="string">&quot;The Queen&quot;</span>.<span class="ident">to_owned</span>()),
	] {
		<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">action</span>: <span class="ident">CreateEntryAction</span><span class="op">&lt;</span><span class="ident">Settings</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Action::new</span>();
		<span class="ident">action</span>
			.<span class="ident">set_table</span>(<span class="string">&quot;foo&quot;</span>.<span class="ident">to_owned</span>())
			.<span class="ident">set_entry</span>(<span class="kw-2">&amp;</span><span class="ident">Settings::new</span>(<span class="ident">name</span>, <span class="ident">age</span>));
		<span class="comment">// chart.run(action).await??;</span>
		<span class="ident">action</span>.<span class="ident">run</span>(<span class="kw-2">&amp;</span><span class="ident">chart</span>).<span class="kw">await</span><span class="question-mark">?</span>.<span class="ident">unwrap_create</span>();
	}

	<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">read_all_action</span>: <span class="ident">ReadTableAction</span><span class="op">&lt;</span><span class="ident">Settings</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Action::new</span>();
	<span class="ident">read_all_action</span>.<span class="ident">set_table</span>(<span class="string">&quot;foo&quot;</span>.<span class="ident">to_owned</span>());

	<span class="comment">// let mut values: Vec&lt;Settings&gt; = chart.run(read_all_action).await??;</span>
	<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">values</span> <span class="op">=</span> <span class="ident">read_all_action</span>
		.<span class="ident">run</span>(<span class="kw-2">&amp;</span><span class="ident">chart</span>)
		.<span class="kw">await</span><span class="question-mark">?</span>
		.<span class="ident">unwrap_multi_read</span>::<span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span><span class="op">&gt;</span>();

	<span class="ident">values</span>.<span class="ident">sort</span>();

	<span class="macro">assert_eq!</span>(
		<span class="ident">values</span>,
		<span class="macro">vec!</span>[
			<span class="ident">Settings</span> {
				<span class="ident">id</span>: <span class="number">1</span>,
				<span class="ident">name</span>: <span class="string">&quot;John Doe&quot;</span>.<span class="ident">to_owned</span>(),
				<span class="ident">age</span>: <span class="number">21</span>
			},
			<span class="ident">Settings</span> {
				<span class="ident">id</span>: <span class="number">2</span>,
				<span class="ident">name</span>: <span class="string">&quot;Ferris&quot;</span>.<span class="ident">to_owned</span>(),
				<span class="ident">age</span>: <span class="number">42</span>
			},
			<span class="ident">Settings</span> {
				<span class="ident">id</span>: <span class="number">3</span>,
				<span class="ident">name</span>: <span class="string">&quot;The Queen&quot;</span>.<span class="ident">to_owned</span>(),
				<span class="ident">age</span>: <span class="number">73</span>
			}
		]
	);

	<span class="prelude-val">Ok</span>(())
}</code></pre></div>
</div></div><details class="rustdoc-toggle more-examples-toggle"><summary class="hideme"><span>More examples</span></summary><div class="more-scraped-examples"><div class="toggle-line"><div class="toggle-line-inner"></div></div><div class="more-scraped-examples-inner"><div class="scraped-example " data-locs="[[[2,2],&quot;../src/basic/basic.rs.html#32&quot;,&quot;line 32&quot;]]"><div class="scraped-example-title">examples/basic.rs (<a href="../src/basic/basic.rs.html#32">line 32</a>)</div><div class="code-wrapper"><span class="expand">&varr;</span><div class="example-wrap"><pre class="line-numbers"><span>30</span>
<span>31</span>
<span>32</span>
<span>33</span>
<span>34</span>
<span>35</span>
<span>36</span>
<span>37</span>
<span>38</span>
<span>39</span>
<span>40</span>
<span>41</span>
<span>42</span>
<span>43</span>
<span>44</span>
<span>45</span>
<span>46</span>
<span>47</span>
<span>48</span>
<span>49</span>
<span>50</span>
<span>51</span>
<span>52</span>
<span>53</span>
<span>54</span>
<span>55</span>
<span>56</span>
<span>57</span>
<span>58</span>
<span>59</span>
<span>60</span>
<span>61</span>
<span>62</span>
<span>63</span>
<span>64</span>
<span>65</span>
<span>66</span>
<span>67</span>
<span>68</span>
<span>69</span>
<span>70</span>
<span>71</span>
<span>72</span>
<span>73</span>
<span>74</span>
<span>75</span>
<span>76</span>
<span>77</span>
<span>78</span>
<span>79</span>
<span>80</span>
</pre><pre class="rust"><code><span class="kw">fn</span> <span class="ident">main</span>() -&gt; <span class="prelude-ty">Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
	<span class="comment">// Create an initialize the database.</span>
	<span class="kw">let</span> <span class="ident">chart</span> <span class="op">=</span> <span class="highlight focus"><span class="ident">Starchart::new</span>(<span class="ident">MemoryBackend::default</span>())</span>.<span class="kw">await</span><span class="question-mark">?</span>;

	<span class="comment">// Create and run an action to create the &quot;foo&quot; table with the Settings struct.</span>
	<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">create_table_action</span>: <span class="ident">CreateTableAction</span><span class="op">&lt;</span><span class="ident">Settings</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Action::new</span>();

	<span class="ident">create_table_action</span>.<span class="ident">set_table</span>(<span class="string">&quot;foo&quot;</span>.<span class="ident">to_owned</span>());

	<span class="comment">// chart.run(create_table_action).await??;</span>
	<span class="ident">create_table_action</span>.<span class="ident">run</span>(<span class="kw-2">&amp;</span><span class="ident">chart</span>).<span class="kw">await</span><span class="question-mark">?</span>.<span class="ident">unwrap_create</span>();

	<span class="comment">// Insert some entries into the table.</span>
	<span class="kw">for</span> (<span class="ident">age</span>, <span class="ident">name</span>) <span class="kw">in</span> <span class="macro">vec!</span>[
		(<span class="number">21</span>, <span class="string">&quot;John Doe&quot;</span>.<span class="ident">to_owned</span>()),
		(<span class="number">42</span>, <span class="string">&quot;Ferris&quot;</span>.<span class="ident">to_owned</span>()),
		(<span class="number">73</span>, <span class="string">&quot;The Queen&quot;</span>.<span class="ident">to_owned</span>()),
	] {
		<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">action</span>: <span class="ident">CreateEntryAction</span><span class="op">&lt;</span><span class="ident">Settings</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Action::new</span>();
		<span class="ident">action</span>
			.<span class="ident">set_table</span>(<span class="string">&quot;foo&quot;</span>.<span class="ident">to_owned</span>())
			.<span class="ident">set_entry</span>(<span class="kw-2">&amp;</span><span class="ident">Settings::new</span>(<span class="ident">name</span>, <span class="ident">age</span>));
		<span class="comment">// chart.run(action).await??;</span>
		<span class="ident">action</span>.<span class="ident">run</span>(<span class="kw-2">&amp;</span><span class="ident">chart</span>).<span class="kw">await</span><span class="question-mark">?</span>.<span class="ident">unwrap_create</span>();
	}

	<span class="comment">// Get a single entry.</span>

	<span class="kw">let</span> <span class="ident">the_queen</span> <span class="op">=</span> {
		<span class="comment">// Action type helpers are named after their CRUD counterparts; Create, Read, Update, and Delete.</span>
		<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">action</span>: <span class="ident">ReadEntryAction</span><span class="op">&lt;</span><span class="ident">Settings</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Action::new</span>();
		<span class="ident">action</span>.<span class="ident">set_key</span>(<span class="kw-2">&amp;</span><span class="number">3_u64</span>).<span class="ident">set_table</span>(<span class="string">&quot;foo&quot;</span>.<span class="ident">to_owned</span>());

		<span class="ident">action</span>
			.<span class="ident">run</span>(<span class="kw-2">&amp;</span><span class="ident">chart</span>)
			.<span class="kw">await</span><span class="question-mark">?</span>
			.<span class="ident">unwrap_single_read</span>()
			.<span class="ident">expect</span>(<span class="string">&quot;the queen has fallen!&quot;</span>)
	};

	<span class="macro">assert_eq!</span>(
		<span class="ident">the_queen</span>,
		<span class="ident">Settings</span> {
			<span class="ident">id</span>: <span class="number">3</span>,
			<span class="ident">name</span>: <span class="string">&quot;The Queen&quot;</span>.<span class="ident">to_owned</span>(),
			<span class="ident">age</span>: <span class="number">73</span>
		}
	);

	<span class="prelude-val">Ok</span>(())
}</code></pre></div>
</div></div></div></div></details></div></details></div></details><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Clone" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/starchart/starchart.rs.html#46-53" title="goto source code">source</a></div><a href="#impl-Clone" class="anchor"></a><h3 class="code-header in-band">impl&lt;B:&nbsp;<a class="trait" href="backend/trait.Backend.html" title="trait starchart::backend::Backend">Backend</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="struct.Starchart.html" title="struct starchart::Starchart">Starchart</a>&lt;B&gt;</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.clone" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/starchart/starchart.rs.html#47-52" title="goto source code">source</a></div><a href="#method.clone" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone" class="fnname">clone</a>(&amp;self) -&gt; Self</h4></div></summary><div class='docblock'><p>Returns a copy of the value. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.clone_from" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/clone.rs.html#130" title="goto source code">source</a></div><a href="#method.clone_from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from" class="fnname">clone_from</a>(&amp;mut self, source: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Self)</h4></div></summary><div class='docblock'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Debug" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/starchart/starchart.rs.html#13" title="goto source code">source</a></div><a href="#impl-Debug" class="anchor"></a><h3 class="code-header in-band">impl&lt;B:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="backend/trait.Backend.html" title="trait starchart::backend::Backend">Backend</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.Starchart.html" title="struct starchart::Starchart">Starchart</a>&lt;B&gt;</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.fmt" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/starchart/starchart.rs.html#13" title="goto source code">source</a></div><a href="#method.fmt" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt" class="fnname">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></div></summary><div class='docblock'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Default" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/starchart/starchart.rs.html#13" title="goto source code">source</a></div><a href="#impl-Default" class="anchor"></a><h3 class="code-header in-band">impl&lt;B:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + <a class="trait" href="backend/trait.Backend.html" title="trait starchart::backend::Backend">Backend</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="struct.Starchart.html" title="struct starchart::Starchart">Starchart</a>&lt;B&gt;</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.default" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/starchart/starchart.rs.html#13" title="goto source code">source</a></div><a href="#method.default" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default" class="fnname">default</a>() -&gt; <a class="struct" href="struct.Starchart.html" title="struct starchart::Starchart">Starchart</a>&lt;B&gt;</h4></div></summary><div class='docblock'><p>Returns the “default value” for a type. <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Drop" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/starchart/starchart.rs.html#55-59" title="goto source code">source</a></div><a href="#impl-Drop" class="anchor"></a><h3 class="code-header in-band">impl&lt;B:&nbsp;<a class="trait" href="backend/trait.Backend.html" title="trait starchart::backend::Backend">Backend</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html" title="trait core::ops::drop::Drop">Drop</a> for <a class="struct" href="struct.Starchart.html" title="struct starchart::Starchart">Starchart</a>&lt;B&gt;</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.drop" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/starchart/starchart.rs.html#56-58" title="goto source code">source</a></div><a href="#method.drop" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html#tymethod.drop" class="fnname">drop</a>(&amp;mut self)</h4></div></summary><div class='docblock'><p>Executes the destructor for this type. <a href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html#tymethod.drop">Read more</a></p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><div id="impl-RefUnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl&lt;B&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Starchart.html" title="struct starchart::Starchart">Starchart</a>&lt;B&gt;</h3></div><div id="impl-Send" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl&lt;B&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Starchart.html" title="struct starchart::Starchart">Starchart</a>&lt;B&gt;</h3></div><div id="impl-Sync" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl&lt;B&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Starchart.html" title="struct starchart::Starchart">Starchart</a>&lt;B&gt;</h3></div><div id="impl-Unpin" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl&lt;B&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Starchart.html" title="struct starchart::Starchart">Starchart</a>&lt;B&gt;</h3></div><div id="impl-UnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl&lt;B&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Starchart.html" title="struct starchart::Starchart">Starchart</a>&lt;B&gt;</h3></div></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Any" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#132-136" title="goto source code">source</a></div><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.type_id" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#133" title="goto source code">source</a></div><a href="#method.type_id" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></div></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Borrow%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#209-214" title="goto source code">source</a></div><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#211" title="goto source code">source</a></div><a href="#method.borrow" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</h4></div></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#218-222" title="goto source code">source</a></div><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow_mut" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#219" title="goto source code">source</a></div><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</h4></div></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-From%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#549-553" title="goto source code">source</a></div><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#550" title="goto source code">source</a></div><a href="#method.from" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Into%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#537-544" title="goto source code">source</a></div><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#541" title="goto source code">source</a></div><a href="#method.into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-ToOwned" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#84-96" title="goto source code">source</a></div><a href="#impl-ToOwned" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html" title="trait alloc::borrow::ToOwned">ToOwned</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Owned" class="type trait-impl has-srclink"><a href="#associatedtype.Owned" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#associatedtype.Owned" class="associatedtype">Owned</a> = T</h4></div></summary><div class='docblock'><p>The resulting type after obtaining ownership.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.to_owned" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#89" title="goto source code">source</a></div><a href="#method.to_owned" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#tymethod.to_owned" class="fnname">to_owned</a>(&amp;self) -&gt; T</h4></div></summary><div class='docblock'><p>Creates owned data from borrowed data, usually by cloning. <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#tymethod.to_owned">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.clone_into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#93" title="goto source code">source</a></div><a href="#method.clone_into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#method.clone_into" class="fnname">clone_into</a>(&amp;self, target: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T)</h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>toowned_clone_into</code>)</div></div><div class='docblock'><p>Uses borrowed data to replace owned data, usually by cloning. <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#method.clone_into">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryFrom%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#589-598" title="goto source code">source</a></div><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#595" title="goto source code">source</a></div><a href="#method.try_from" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryInto%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#574-583" title="goto source code">source</a></div><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#580" title="goto source code">source</a></div><a href="#method.try_into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="starchart" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (ee5d8d37b 2022-01-17)" ></div>
</body></html>